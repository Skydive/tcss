<script>$(function(){document.title="Login";});</script>
<style>
.provider {
	position: absolute;
	top: 50px;
	left: 50%;
	transform: translateX(-50%);
}
.provider>.input-group {
	width:260px;
}
.provider-btn {

	width: 64px;
	height: 64px;
	padding: 10px;

	border: solid 1px lightgrey;

	cursor: pointer;

	background-color: #EFEFEF;
	transition: background-color 0.5s ease;
}
.provider-btn:hover {
	background-color: white;
}
</style>
<div class="provider" style="text-align:center;">
	<div class="input-group">
		<span class="input-group-addon" style="width:40px;text-align:center;"><i class="fa fa-user"></i></span>
		<input class="crsid-input form-control" type="text" placeholder="CRSID..."/>
	</div>
	<div class="input-group" style="margin-top:10px;">
		<span class="input-group-addon" style="width:40px;text-align:center;"><i class="fa fa-key"></i></span>
		<input class="pass-input form-control" type="password" placeholder="Password..."/>
	</div>
	<br/>
	<button type="button" class="login-btn btn btn-success"><i class="fa fa-check"></i>&nbsp;&nbsp;&nbsp;Login</button>
	<br/><br/>
	<div class="provider-btn raven" style="margin: 0 auto">
		<img src="https://raven.cam.ac.uk/images/raven-logo.gif" width="64" height="64" style="width:100%;height:100%;"/>
	</div>
</div>
<script>
$(function() {
	$(".provider-btn.raven").on('click', function() {
		Lib.Ajax.Raven.Redirect({
			redirect_url:  window.location.protocol+"//"+window.location.hostname+"/"
		}).done(function(json) {
			window.location.href = json.auth_url;
		});
	});

	$('.login-btn').on('click', function() {
		Lib.User.PerformLogin({
			username: $('.crsid-input').val(),
			password: $('.pass-input').val()
		});
	});
});
</script>